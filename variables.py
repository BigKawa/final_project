

columns_plot = [
    "fiscalDateEnding",
    "totalAssets",
    "totalCurrentAssets",
    "cashAndCashEquivalentsAtCarryingValue",
    "cashAndShortTermInvestments",
    "inventory",
    "currentNetReceivables",
    "totalNonCurrentAssets",
    "propertyPlantEquipment",
    "accumulatedDepreciationAmortizationPPE",
    "intangibleAssets",
    "intangibleAssetsExcludingGoodwill",
    "goodwill",
    "investments",
    "longTermInvestments",
    "shortTermInvestments",
    "otherCurrentAssets",
    "otherNonCurrentAssets",
    "totalLiabilities",
    "totalCurrentLiabilities",
    "currentAccountsPayable",
    "deferredRevenue",
    "currentDebt",
    "shortTermDebt",
    "totalNonCurrentLiabilities",
    "capitalLeaseObligations",
    "longTermDebt",
    "currentLongTermDebt",
    "longTermDebtNoncurrent",
    "shortLongTermDebtTotal",
    "otherCurrentLiabilities",
    "otherNonCurrentLiabilities",
    "totalShareholderEquity",
    "treasuryStock",
    "retainedEarnings",
    "commonStock",
    "commonStockSharesOutstanding",
    "currentRatio",
    "quickRatio",
    "cashRatio",
    "debtToAssetsRatio",
    "debtToEquityRatio",
    "equityRatio",
    "workingCapital",
    "netWorkingCapitalRatio",
    "bookValuePerShare"]


kpi_definitions = {
    "grossProfit": "Gross Profit is the difference between total revenue and the cost of goods sold. It shows how efficiently a company produces and sells its goods.",
    "totalRevenue": "Total Revenue is the total income generated by the sale of goods or services related to the company's primary operations.",
    "costOfRevenue": "Cost of Revenue represents the total cost involved in creating and delivering a product or service to the customer.",
    "costofGoodsAndServicesSold": "Cost of Goods and Services Sold (COGS) is the direct cost attributable to the production of the goods sold by a company.",
    "operatingIncome": "Operating Income is the profit realized from a business's operations after deducting operating expenses such as wages and cost of goods sold.",
    "sellingGeneralAndAdministrative": "Selling, General, and Administrative (SG&A) expenses include all the costs that are not directly tied to making a product or performing a service.",
    "researchAndDevelopment": "Research and Development (R&D) expenses are costs incurred to create and develop new products or services.",
    "operatingExpenses": "Operating Expenses are the costs required for a company to run its day-to-day operations but are not directly tied to production.",
    "investmentIncomeNet": "Net Investment Income is the income generated from investments, after deducting any related expenses.",
    "netInterestIncome": "Net Interest Income is the difference between the revenue generated from a bank's interest-bearing assets and the expenses associated with paying on interest-bearing liabilities.",
    "interestIncome": "Interest Income is the earnings generated by lending money or by placing funds in financial instruments.",
    "interestExpense": "Interest Expense is the cost incurred by a company for borrowed funds.",
    "nonInterestIncome": "Non-Interest Income includes revenue generated from non-interest-related activities, such as fees and service charges.",
    "otherNonOperatingIncome": "Other Non-Operating Income represents earnings that are not related to core business operations.",
    "depreciation": "Depreciation is the allocation of the cost of a tangible asset over its useful life.",
    "depreciationAndAmortization": "Depreciation and Amortization are methods used to allocate the cost of tangible and intangible assets over time.",
    "incomeBeforeTax": "Income Before Tax (EBT) is the profit a company has earned before paying taxes.",
    "incomeTaxExpense": "Income Tax Expense is the total amount of taxes payable on taxable income.",
    "interestAndDebtExpense": "Interest and Debt Expense represents the interest payable on the company's debt obligations.",
    "netIncomeFromContinuingOperations": "Net Income from Continuing Operations is the profit a company generates from its ongoing, core business activities.",
    "comprehensiveIncomeNetOfTax": "Comprehensive Income Net of Tax includes all changes in equity that result from transactions and events other than investments by and distributions to owners.",
    "ebit": "Earnings Before Interest and Taxes (EBIT) is a measure of a company's profitability that includes all expenses except interest and income tax expenses.",
    "ebitda": "Earnings Before Interest, Taxes, Depreciation, and Amortization (EBITDA) is a measure of operating performance used by businesses to compare profitability.",
    "netIncome": "Net Income is the total profit of a company after all expenses and taxes have been deducted from total revenue.",
    "operatingCashflow": "Operating Cash Flow is the cash generated by the normal operating activities of a business.",
    "paymentsForOperatingActivities": "Payments for Operating Activities include all cash payments made in connection with a company's day-to-day operations.",
    "proceedsFromOperatingActivities": "Proceeds from Operating Activities refer to the cash inflows generated from the core business operations.",
    "changeInOperatingLiabilities": "Change in Operating Liabilities is the net change in the amount a company owes to others in the short term as part of its operations.",
    "changeInOperatingAssets": "Change in Operating Assets is the net change in assets that are used in the day-to-day operations of a company.",
    "depreciationDepletionAndAmortization": "Depreciation, Depletion, and Amortization are methods of allocating the cost of assets over their useful lives.",
    "capitalExpenditures": "Capital Expenditures (CapEx) are funds used by a company to acquire, upgrade, or maintain physical assets.",
    "changeInReceivables": "Change in Receivables represents the net change in the amount owed to a company by its customers.",
    "changeInInventory": "Change in Inventory is the net change in the value of a company's inventory over a specific period.",
    "profitLoss": "Profit or Loss is the net result of a company's income and expenses during a specific period.",
    "cashflowFromInvestment": "Cash Flow from Investment is the cash generated or used by a company's investment activities.",
    "cashflowFromFinancing": "Cash Flow from Financing includes the inflows and outflows of cash resulting from raising capital, including equity and debt.",
    "proceedsFromRepaymentsOfShortTermDebt": "Proceeds from Repayments of Short-Term Debt represent the cash inflows from borrowing or repayments of short-term liabilities.",
    "paymentsForRepurchaseOfCommonStock": "Payments for Repurchase of Common Stock refer to the cash spent by a company to buy back its own shares.",
    "paymentsForRepurchaseOfEquity": "Payments for Repurchase of Equity refer to the cash used to repurchase equity from shareholders.",
    "paymentsForRepurchaseOfPreferredStock": "Payments for Repurchase of Preferred Stock are the funds used to buy back preferred shares from shareholders.",
    "dividendPayout": "Dividend Payout is the distribution of a portion of a company's earnings to shareholders.",
    "dividendPayoutCommonStock": "Dividend Payout for Common Stock represents the dividend payments made to common shareholders.",
    "dividendPayoutPreferredStock": "Dividend Payout for Preferred Stock refers to the dividend payments made to preferred shareholders.",
    "proceedsFromIssuanceOfCommonStock": "Proceeds from Issuance of Common Stock are the cash inflows resulting from selling shares of common stock.",
    "proceedsFromIssuanceOfLongTermDebtAndCapitalSecuritiesNet": "Proceeds from Issuance of Long-Term Debt and Capital Securities (Net) represent the cash generated from issuing long-term liabilities.",
    "proceedsFromIssuanceOfPreferredStock": "Proceeds from Issuance of Preferred Stock represent the cash inflows from issuing preferred shares.",
    "proceedsFromRepurchaseOfEquity": "Proceeds from Repurchase of Equity represent cash generated by selling back previously repurchased shares.",
    "proceedsFromSaleOfTreasuryStock": "Proceeds from Sale of Treasury Stock represent cash inflows from the resale of treasury shares.",
    "changeInCashAndCashEquivalents": "Change in Cash and Cash Equivalents is the net change in cash and cash equivalents over a specific period.",
    "changeInExchangeRate": "Change in Exchange Rate represents the effect of foreign exchange rate changes on cash balances.",
    "totalAssets": "Total Assets are the sum of all assets owned by a company.",
    "totalCurrentAssets": "Total Current Assets are assets that are expected to be converted to cash or used up within one year.",
    "cashAndCashEquivalentsAtCarryingValue": "Cash and Cash Equivalents at Carrying Value are the most liquid assets on the balance sheet.",
    "cashAndShortTermInvestments": "Cash and Short-Term Investments represent cash and other highly liquid investments that can be converted to cash quickly.",
    "inventory": "Inventory is the raw materials, work-in-progress, and finished goods that are ready or will be ready for sale.",
    "currentNetReceivables": "Current Net Receivables are the amount of money due to a company for goods or services delivered.",
    "totalNonCurrentAssets": "Total Non-Current Assets are the assets that are not expected to be converted to cash within a year.",
    "propertyPlantEquipment": "Property, Plant, and Equipment (PPE) are tangible assets used in production or supply of goods and services.",
    "accumulatedDepreciationAmortizationPPE": "Accumulated Depreciation and Amortization represent the cumulative depreciation of property, plant, and equipment over time.",
    "intangibleAssets": "Intangible Assets are non-physical assets, like patents, trademarks, or goodwill.",
    "intangibleAssetsExcludingGoodwill": "Intangible Assets Excluding Goodwill represent intangible assets such as patents and trademarks but do not include goodwill.",
    "goodwill": "Goodwill is an intangible asset that arises when a company acquires another company for more than its fair market value.",
    "investments": "Investments are financial assets acquired for generating income or profit.",
    "longTermInvestments": "Long-Term Investments are investments that are held for longer than a year.",
    "shortTermInvestments": "Short-Term Investments are investments that are held for less than a year.",
    "otherCurrentAssets": "Other Current Assets are assets that are expected to be converted to cash or used up within one year but do not fall into standard asset categories.",
    "otherNonCurrentAssets": "Other Non-Current Assets are assets that are not expected to be converted to cash within a year.",
    "totalLiabilities": "Total Liabilities are the sum of all debts and obligations owed by a company.",
    "totalCurrentLiabilities": "Total Current Liabilities are obligations due within the next year.",
    "currentAccountsPayable": "Current Accounts Payable are short-term obligations owed to suppliers for goods or services.",
    "deferredRevenue": "Deferred Revenue represents money received by a company for goods or services yet to be delivered or performed.",
    "currentDebt": "Current Debt represents the portion of a company's debt that is due within one year.",
    "shortTermDebt": "Short-Term Debt is a company's financial obligation that is expected to be repaid within one year.",
    "totalNonCurrentLiabilities": "Total Non-Current Liabilities are liabilities that are not expected to be paid within one year.",
    "capitalLeaseObligations": "Capital Lease Obligations are financial commitments for lease agreements for assets.",
    "longTermDebt": "Long-Term Debt is a company's financial obligation that is due in more than one year.",
    "currentLongTermDebt": "Current Long-Term Debt is the portion of long-term debt due within one year.",
    "longTermDebtNoncurrent": "Long-Term Debt Noncurrent is the portion of long-term debt that is not due within the next year.",
    "shortLongTermDebtTotal": "Short and Long-Term Debt Total is the combined amount of both short-term and long-term debt.",
    "otherCurrentLiabilities": "Other Current Liabilities are obligations that are expected to be settled within the next year but do not fall into standard liability categories.",
    "otherNonCurrentLiabilities": "Other Non-Current Liabilities are obligations that are not expected to be settled within the next year.",
    "totalShareholderEquity": "Total Shareholder Equity is the residual interest in the assets of the entity after deducting liabilities.",
    "treasuryStock": "Treasury Stock represents the shares bought back by the company but not retired.",
    "retainedEarnings": "Retained Earnings are the cumulative net earnings or profits that a company has kept rather than distributed to shareholders.",
    "commonStock": "Common Stock represents ownership in a company and a claim on part of the company's profits.",
    "commonStockSharesOutstanding": "Common Stock Shares Outstanding are the total shares of common stock currently held by all shareholders."
}

# You can add the above dictionary to your sidebar as explained before

# Define KPI Groups
profit_loss_kpis = [
    "grossProfit", "totalRevenue", "costOfRevenue", "costofGoodsAndServicesSold",
    "operatingIncome", "sellingGeneralAndAdministrative", "researchAndDevelopment",
    "operatingExpenses", "investmentIncomeNet", "netInterestIncome", "interestIncome",
    "interestExpense", "nonInterestIncome", "otherNonOperatingIncome", "depreciation",
    "depreciationAndAmortization", "incomeBeforeTax", "incomeTaxExpense", 
    "interestAndDebtExpense", "netIncomeFromContinuingOperations", 
    "comprehensiveIncomeNetOfTax", "ebit", "ebitda", "netIncome"
]

cash_flow_kpis = [
    "operatingCashflow", "paymentsForOperatingActivities", "proceedsFromOperatingActivities",
    "changeInOperatingLiabilities", "changeInOperatingAssets", "depreciationDepletionAndAmortization",
    "capitalExpenditures", "changeInReceivables", "changeInInventory", "profitLoss",
    "cashflowFromInvestment", "cashflowFromFinancing", "proceedsFromRepaymentsOfShortTermDebt",
    "paymentsForRepurchaseOfCommonStock", "paymentsForRepurchaseOfEquity", 
    "paymentsForRepurchaseOfPreferredStock", "dividendPayout", "dividendPayoutCommonStock",
    "dividendPayoutPreferredStock", "proceedsFromIssuanceOfCommonStock",
    "proceedsFromIssuanceOfLongTermDebtAndCapitalSecuritiesNet",
    "proceedsFromIssuanceOfPreferredStock", "proceedsFromRepurchaseOfEquity",
    "proceedsFromSaleOfTreasuryStock", "changeInCashAndCashEquivalents",
    "changeInExchangeRate"
]

balance_sheet_kpis = [
    "totalAssets", "totalCurrentAssets", "cashAndCashEquivalentsAtCarryingValue",
    "cashAndShortTermInvestments", "inventory", "currentNetReceivables",
    "totalNonCurrentAssets", "propertyPlantEquipment", "accumulatedDepreciationAmortizationPPE",
    "intangibleAssets", "intangibleAssetsExcludingGoodwill", "goodwill", "investments",
    "longTermInvestments", "shortTermInvestments", "otherCurrentAssets", "otherNonCurrentAssets",
    "totalLiabilities", "totalCurrentLiabilities", "currentAccountsPayable", "deferredRevenue",
    "currentDebt", "shortTermDebt", "totalNonCurrentLiabilities", "capitalLeaseObligations",
    "longTermDebt", "currentLongTermDebt", "longTermDebtNoncurrent", "shortLongTermDebtTotal",
    "otherCurrentLiabilities", "otherNonCurrentLiabilities", "totalShareholderEquity",
    "treasuryStock", "retainedEarnings", "commonStock", "commonStockSharesOutstanding"
]
